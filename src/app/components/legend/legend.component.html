<div class="legend-container">
    <button mat-button [mat-menu-trigger-for]="menu" (onMenuClose)="onMenuClose()" (onMenuOpen)="onMenuOpen()" class="legend-button">
      <span class="legend-text">Legend</span><mat-icon class="neon-icon-small legend-text">{{ menuIcon }}</mat-icon>
    </button>

    <mat-menu #menu="matMenu" [overlapTrigger]="false">
        <div *ngFor="let colorSet of colorSets">
            <button mat-menu-item *ngFor="let key of colorSet.getAllKeys()" (click)="keySelected($event, colorSet.name, key)">
                <mat-icon [ngStyle]="{'color': getColorFor(colorSet, key)}">{{ getIcon(key) }}</mat-icon>
                <span [ngStyle]="{'color': getColorFor(colorSet, key)}" >{{ key }}</span>
            </button>
        </div>
    </mat-menu>

</div>
